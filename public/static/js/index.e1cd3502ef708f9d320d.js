webpackJsonp([2,0],{0:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(){window.imgcan=0,window.canplay=0,(0,s.default)(".child").width("100%"),setTimeout(function(){(0,s.default)("#loading").fadeOut(),(0,s.default)("#masker").fadeIn(),g=new h.default,g.init()},1e3)}function o(){(0,s.default)("#phone").css("opacity",1),(0,s.default)(".clouds-wrap").hide()}var r=i(5),s=n(r);i(82);var u=(i(14),i(42)),d=n(u),c=i(43),l=n(c),f=i(40),h=n(f);i(44);var p=i(45),v=n(p);window.canplay=0;var g;document.addEventListener("WeixinJSBridgeReady",function(){(0,s.default)(".js-video").get(0).load(),(0,s.default)(".js-video-2").get(0).load(),(0,s.default)("#ling")[0].load(),(0,s.default)("#slidemusic")[0].load()},!1),(0,d.default)(a),(0,l.default)(),(0,s.default)(".js-video").get(0).addEventListener("canplaythrough",function(){window.canplay=1,window.imgcan&&a()}),(0,s.default)(".js-video").on("playing",function(t){event.preventDefault(),setTimeout(function(){(0,s.default)("#ling")[0].play()},65e3)}),(0,s.default)(".js-video").on("ended",function(){o(),setTimeout(function(){(0,s.default)(".js-video-wrapper").remove(),(0,v.default)()},1e3)}),(0,s.default)(".right").click(function(){(0,s.default)(".clouds-wrap").show(),(0,s.default)(".js-video-wrapper-2").show(),(0,s.default)("#phone").remove(),(0,s.default)("#ling").remove(),(0,s.default)(".js-video-2")[0].play()}),(0,s.default)(".js-video-2").on("ended",function(){(0,s.default)("#slide").show(),(0,s.default)("#slidemusic")[0].play(),setTimeout(function(){(0,s.default)("#slidemusic")[0].play()},0),(0,s.default)(".move-tip").show(),setTimeout(function(){(0,s.default)(".js-video-wrapper-2").remove()},1e3)}),(0,s.default)(".share-btn").on("touchstart",function(){(0,s.default)(".share").css("opacity","1")}).on("touchend",function(){(0,s.default)(".share-btn").removeClass("share-btn-click")});var w=0,m={max:(0,s.default)("#masker").height()-window.innerHeight};(0,s.default)("#masker").on("touchstart",function(t){event.preventDefault(),g.stop(),m.start=t.originalEvent.targetTouches[0].clientY,m.cur=parseInt((0,s.default)(this).css("top"))||0}).on("touchmove",function(t){event.preventDefault();var e=t.originalEvent.targetTouches[0].clientY-m.start,i=m.cur+e,n=-m.max+10;i>0?i=0:"",i<n?i=n:"",m.changed=e,(0,s.default)(this).css("top",i)}).on("touchend",function(){w||(m.changed<-10?(w=1,(0,s.default)("#masker").css("top","-215px"),(0,s.default)(".js-video").get(0).play(),(0,s.default)(".js-video-wrapper").show(),(0,s.default)("#masker").remove(),setTimeout(function(){},500)):g.continue())}),(0,s.default)(document).on("touchmove",function(t){event.preventDefault()})},14:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.formatParams=e.erlize=e.xhr4File=e.preLoad=void 0;var a=i(47),o=n(a),r=i(46),s=n(r),u=i(48),d=n(u),c=i(83),l=(n(c),e.preLoad=function(t){return new d.default(function(e,i){var n=new Image;n.onload=function(t){e(n)},n.onerror=i,n.src=t})},e.xhr4File=function(){this.xhr=new XMLHttpRequest});l.prototype={init:function(t){this.cfg=t},send:function(t){this.xhr=new XMLHttpRequest,this.xhr.open("post",this.cfg.url,!0),this.bindEvents(),this.xhr.send(t)},bindEvents:function(){this.progress(),this.load()},progress:function(){var t=this.cfg.onProgress;t&&this.xhr.upload.addEventListener("progress",function(e){if(e.lengthComputable){var i=parseInt(e.loaded/e.total*100);i>15&&i<100&&t(i)}},!1)},load:function(){var t=this.xhr,e=this,i=this.cfg.onLoad;t.addEventListener("load",function(n){if(4==this.readyState&&200==this.status){try{var a=JSON.parse(t.responseText)}catch(t){var a={code:500,message:"服务器异常，请重试"}}200==a.code?i&&i(a):e.error(a)}else e.error({message:"网络异常，请重试"})})},error:function(t){var e=this.cfg.onError;e&&e(t)}};e.erlize=function(t){var e={};t=t.substr(t.indexOf("?")+1);for(var i=t.split("&"),n=0,a=i.length;n<a;n++){var o=i[n],r=o.split("=");e[r[0]]=r[1]}return e},e.formatParams=function(t){var e=[],i=!0,n=!1,a=void 0;try{for(var r,u=(0,s.default)((0,o.default)(t));!(i=(r=u.next()).done);i=!0){var d=r.value;e.push(encodeURIComponent(d)+"="+encodeURIComponent(t[d]))}}catch(t){n=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(n)throw a}}return e.join("&")}},24:function(t,e){"use strict";t.exports={NODE_ENV:'"production"',isUglyfy:!0,showVConsole:!1,baseApi:"",cdnURL:"http://cdn.holyhilab.com/"}},40:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),o=n(a),r=function(){this.canvas=(0,o.default)("#start-img")[0],this.ctx=this.canvas.getContext("2d"),this.curFrame=0};r.prototype={init:function(){var t=this.canvas,e=this.ctx,i=(0,o.default)("#masker").width(),n=(0,o.default)("#masker").height(),a=this.getPixelRatio(e);a.devicePixelRatio!==a.backingStoreRatio?(t.width=i*a.ratio,t.height=n*a.ratio,t.style.width=i+"px",t.style.height=n+"px",e.scale(a.ratio,a.ratio)):(t.width=i,t.height=n),this.w=i,this.h=n,this.timer&&clearInterval(this.timer),this.continue()},getPixelRatio:function(t){var e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,n=e/i;return{devicePixelRatio:e,backingStoreRatio:i,ratio:n}},drawPic:function(){var t=window.result[this.curFrame];this.ctx.clearRect(0,0,this.w,this.h),t&&this.ctx.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,this.w,this.h)},start:function(){this.curFrame>=window.result.length&&(this.curFrame=29),this.drawPic(),this.curFrame++},continue:function(){clearInterval(window.timer),window.timer=setInterval(this.start.bind(this),50)},stop:function(){clearInterval(this.timer)}},e.default=r},41:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),o=n(a),r=function(){this.canvas=(0,o.default)("#run-people-second")[0],this.ctx=this.canvas.getContext("2d"),this.curFrame=0};r.prototype={init:function(){var t=this.canvas,e=this.ctx,i=(0,o.default)("#run-people-second").width(),n=(0,o.default)("#run-people-second").height(),a=this.getPixelRatio(e);a.devicePixelRatio!==a.backingStoreRatio?(t.width=i*a.ratio,t.height=n*a.ratio,t.style.width=i+"px",t.style.height=n+"px",e.scale(a.ratio,a.ratio)):(t.width=i,t.height=n),this.w=i,this.h=n,this.timer&&clearInterval(this.timer),this.continue()},getPixelRatio:function(t){var e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,n=e/i;return{devicePixelRatio:e,backingStoreRatio:i,ratio:n}},drawPic:function(){var t=window.run_people[this.curFrame];this.ctx.clearRect(0,0,this.w,this.h),t&&this.ctx.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,this.w,this.h)},start:function(){this.curFrame>=window.run_people.length&&(this.curFrame=0),this.drawPic(),this.curFrame++},continue:function(){clearInterval(window.timer),window.timer=setInterval(this.start.bind(this),50)},stop:function(){clearInterval(this.timer)}},e.default=r},42:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(e,i){if(e.length){var n=(new Image,e.shift());(0,s.preLoad)(t.cdnURL+n).then(function(t){return function(e){f[t]=e,i()}}(h)).catch(function(t){return function(e){f[t]=!1,i()}}(h)),h++,a(e,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){var i=(parseInt((0,r.default)(".progress").width()),!1);a(u,function(){var n=f.length/l;(0,r.default)(".child").width(95*n+"%"),1!==n||i||(i=!0,window.imgcan=1,window.result=f,window.canplay?(e(),(0,s.preLoad)(t.cdnURL+"phone_bg.jpg")):((0,r.default)(".js-video").get(0).load(),(0,r.default)(".js-video-2").get(0).load()))})};var o=i(5),r=n(o),s=i(14),u=[];window.imgcan=0;for(var d=1;d<=62;d++){var c=d>=30?2:1;d<10&&(d="0"+d),u.push(c+"_000"+d+".jpg")}var l=u.length,f=[],h=0}).call(e,i(24))},43:function(t,e,i){(function(t){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(e,i){if(e.length){var n=(new Image,e.shift());(0,s.preLoad)(t.cdnURL+n).then(function(t){return function(e){l[t]=e,i()}}(f)).catch(function(t){return function(e){l[t]=!1,i()}}(f)),f++,a(e,i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=(parseInt((0,r.default)(".progress").width()),!1);a(u,function(){var t=l.length/c;1!==t||e||(e=!0,window.run_people=l)})};var o=i(5),r=n(o),s=i(14),u=[];window.imgcan=0;for(var d=0;d<16;d++)u.push("12_028"+(48+d)+".png");var c=u.length,l=[],f=0,h=[];h.push(t.cdnURL+"hangup.png"),h.push(t.cdnURL+"receive.png"),h.push(t.cdnURL+"phone_bg.jpg");for(var p=0;p<h.length;p++){var v=new Image;v.src=h[p],v.onload=function(){}}}).call(e,i(24))},44:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=i(5),o=n(a);setTimeout(function(){o.default.get("http://api.holyhilab.com/share",{url:window.location.href.split("#")[0]},function(t){t=t.data;var e={debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.noncestr,signature:t.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]},i={title:"震惊！你家孩子在社交媒体上竟然是这样的……",desc:"妈妈不在家，双胞胎竟然...",imgUrl:"http://cdn.holyhilab.com/meta.png",link:"http://h5.holyhilab.com/capri-sun/"};wx.config(e),wx.ready(function(){wx.onMenuShareAppMessage(i),wx.onMenuShareTimeline({title:i.desc,link:i.link,imgUrl:i.imgUrl,desc:i.desc}),(0,o.default)(".js-video").get(0).load(),(0,o.default)(".js-video-2").get(0).load(),(0,o.default)("#ling")[0].load()})})},2e3)},45:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var i=f[p];(0,u.default)(".swiper-wrapper").css("top",i)}function o(t,e){if(!(t>5)){if(5==t)return r=new c.default,r.init(),t++,(0,u.default)(".move-tip").hide(),(0,u.default)(".swiper-container").hide(),(0,u.default)(".run-people").css("bottom","-20px"),window.timer3=setTimeout(function(){(0,u.default)(".before-share").show()},1e3),void(window.timer1=setTimeout(function(){(0,u.default)(".share-btn-wrap").css("display","block").css("opacity","1"),(0,u.default)(".before-share").remove(),window.timer2=setTimeout(function(){(0,u.default)(".share-btn").addClass("share-btn-enter")},500)},4e3));var i=f[p];(0,u.default)(".swiper-wrapper").css("top",i)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){(0,u.default)(".swiper-slide").removeClass("active").eq(l).addClass("active"),(0,u.default)("#slide").bind("touchstart",function(t){h.start=t.originalEvent.targetTouches[0].clientY,h.cur=parseInt((0,u.default)(".swiper-wrapper").css("top"))}).bind("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),(0,u.default)("#slide").bind("touchend",function(t){var e=t.originalEvent.changedTouches[0].clientY,i=e-h.start;i>0?(p--,p<=0&&(p=0),a(p,!0)):(p++,p>=5&&(p=5),o(p,!0)),(0,u.default)(".swiper-slide").removeClass("active").eq(p).addClass("active")})};var r,s=i(5),u=n(s),d=i(41),c=n(d),l=0,f=[0,-230,-670,-1050,-1300],h={step:parseInt((0,u.default)(".swiper-slide").height()),max:70,min:parseInt((0,u.default)(".swiper-container").height())-parseInt((0,u.default)(".swiper-wrapper").height())-140},p=0},82:function(t,e){}});
//# sourceMappingURL=index.e1cd3502ef708f9d320d.js.map