{"version":3,"sources":["webpack:///js/index.d2a926f70fed5b0a68ed.js","webpack:///./src/main.js","webpack:///./src/common/js/base.js","webpack:///./config/prod.env.js","webpack:///./src/Animater.js","webpack:///./src/loader.js","webpack:///./src/share.js","webpack:///./src/slider.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","startCb","window","imgcan","canplay","_jquery2","width","setTimeout","fadeOut","fadeIn","animater","_Animater2","init","showBtn","css","hide","_jquery","_loader","_loader2","_Animater","_slider","_slider2","document","addEventListener","get","load","on","e","event","preventDefault","play","remove","click","show","addClass","removeClass","has","cfg","max","height","innerHeight","stop","start","originalEvent","targetTouches","clientY","cur","parseInt","this","changed","result","continue","23","Object","defineProperty","value","formatParams","erlize","xhr4File","preLoad","undefined","_keys","_keys2","_getIterator2","_getIterator3","_promise","_promise2","_vue","url","resolve","reject","img","Image","onload","_","onerror","src","xhr","XMLHttpRequest","prototype","send","file","open","bindEvents","progress","onProgress","upload","lengthComputable","p","loaded","total","that","onLoad","r","readyState","status","json","JSON","parse","responseText","code","message","error","msg","onError","substr","indexOf","args","split","i","len","length","arg","item","data","arr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","name","push","encodeURIComponent","err","return","join","39","NODE_ENV","isUglyfy","showVConsole","baseApi","cdnURL","40","Animater","canvas","ctx","getContext","curFrame","w","h","getRatio","getPixelRatio","devicePixelRatio","backingStoreRatio","ratio","style","scale","timer","clearInterval","context","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","drawPic","drawImage","naturalWidth","naturalHeight","setInterval","bind","41","ENV_OPT","loadImages","pics","callback","pic","shift","_base","then","index","catch","cb","l","call","42","location","href","shareConfig","debug","appId","timestamp","nonceStr","noncestr","signature","jsApiList","shareAllData","title","desc","imgUrl","link","wx","config","ready","onMenuShareAppMessage","onMenuShareTimeline","43","up","num","isEnd","res","changeResArr","indexAbs","down","timer3","timer1","timer2","eq","stopPropagation","end","changedTouches","offset","step","min","80"],"mappings":"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","file":"js/index.d2a926f70fed5b0a68ed.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(8);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\t__webpack_require__(80);\n\t\n\tvar _base = __webpack_require__(23);\n\t\n\tvar _loader = __webpack_require__(41);\n\t\n\tvar _loader2 = _interopRequireDefault(_loader);\n\t\n\tvar _Animater = __webpack_require__(40);\n\t\n\tvar _Animater2 = _interopRequireDefault(_Animater);\n\t\n\t__webpack_require__(42);\n\t\n\tvar _slider = __webpack_require__(43);\n\t\n\tvar _slider2 = _interopRequireDefault(_slider);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\twindow.canplay = 0;\n\t\n\tvar animater;\n\t\n\tdocument.addEventListener(\"WeixinJSBridgeReady\", function () {\n\t  (0, _jquery2.default)('.js-video').get(0).load();\n\t  (0, _jquery2.default)('.js-video-2').get(0).load();\n\t  (0, _jquery2.default)('#ling')[0].load();\n\t  (0, _jquery2.default)('#slidemusic')[0].load();\n\t}, !1);\n\t\n\tfunction startCb() {\n\t  window.imgcan = 0;\n\t  window.canplay = 0;\n\t  (0, _jquery2.default)('.child').width('100%');\n\t\n\t  setTimeout(function () {\n\t    (0, _jquery2.default)('#loading').fadeOut();\n\t    (0, _jquery2.default)('#masker').fadeIn();\n\t\n\t    animater = new _Animater2.default();\n\t    animater.init();\n\t  }, 1000);\n\t}\n\t\n\t(0, _loader2.default)(startCb);\n\t\n\t(0, _jquery2.default)('.js-video').get(0).addEventListener('canplaythrough', function () {\n\t  window.canplay = 1;\n\t\n\t  if (window.imgcan) {\n\t    startCb();\n\t  }\n\t});\n\t\n\t(0, _jquery2.default)('.js-video').on('playing', function (e) {\n\t  event.preventDefault();\n\t\n\t  setTimeout(function () {\n\t    (0, _jquery2.default)('#ling')[0].play();\n\t  }, 65 * 1000);\n\t});\n\t\n\t(0, _jquery2.default)('.js-video').on('ended', function () {\n\t  showBtn();\n\t  setTimeout(function () {\n\t    (0, _jquery2.default)('.js-video-wrapper').remove();\n\t    (0, _slider2.default)();\n\t  }, 1000);\n\t});\n\t\n\t(0, _jquery2.default)('.right').click(function () {\n\t  (0, _jquery2.default)('.clouds-wrap').show();\n\t  (0, _jquery2.default)('.js-video-wrapper-2').show();\n\t  (0, _jquery2.default)('#phone').remove();\n\t  (0, _jquery2.default)('#ling').remove();\n\t  (0, _jquery2.default)('.js-video-2')[0].play();\n\t});\n\t\n\t(0, _jquery2.default)('.js-video-2').on('ended', function () {\n\t  (0, _jquery2.default)('#slide').show();\n\t  (0, _jquery2.default)('#slidemusic')[0].play();\n\t  setTimeout(function () {\n\t    (0, _jquery2.default)('#slidemusic')[0].play();\n\t  }, 0);\n\t  (0, _jquery2.default)('.move-tip').show();\n\t\n\t  setTimeout(function () {\n\t    (0, _jquery2.default)('.js-video-wrapper-2').remove();\n\t  }, 1000);\n\t});\n\t\n\t(0, _jquery2.default)('.share-btn').on('touchstart', function () {\n\t  (0, _jquery2.default)('.share-btn').addClass('share-btn-click');\n\t}).on('touchend', function () {\n\t  (0, _jquery2.default)('.share').css('opacity', '1');\n\t  (0, _jquery2.default)('.share-btn').removeClass('share-btn-click');\n\t});\n\t\n\tfunction showBtn() {\n\t  (0, _jquery2.default)('#phone').css('opacity', 1);\n\t  (0, _jquery2.default)('.clouds-wrap').hide();\n\t}\n\t\n\tvar has = 0;\n\t\n\tvar cfg = {\n\t  max: (0, _jquery2.default)('#masker').height() - window.innerHeight\n\t};\n\t\n\t(0, _jquery2.default)('#masker').on('touchstart', function (e) {\n\t  event.preventDefault();\n\t  animater.stop();\n\t  cfg.start = e.originalEvent.targetTouches[0].clientY;\n\t  cfg.cur = parseInt((0, _jquery2.default)(this).css('top')) || 0;\n\t}).on('touchmove', function (e) {\n\t  event.preventDefault();\n\t\n\t  var changed = e.originalEvent.targetTouches[0].clientY - cfg.start;\n\t  var result = cfg.cur + changed;\n\t  var max = -cfg.max + 10;\n\t\n\t  result > 0 ? result = 0 : '';\n\t  result < max ? result = max : '';\n\t\n\t  cfg.changed = changed;\n\t  (0, _jquery2.default)(this).css('top', result);\n\t}).on('touchend', function () {\n\t  if (has) {\n\t    return;\n\t  }\n\t\n\t  if (cfg.changed < -10) {\n\t    has = 1;\n\t\n\t    (0, _jquery2.default)('#masker').css('top', -215 + 'px');\n\t\n\t    (0, _jquery2.default)('.js-video').get(0).play();\n\t    (0, _jquery2.default)('.js-video-wrapper').show();\n\t    (0, _jquery2.default)('#masker').remove();\n\t\n\t    setTimeout(function () {}, 500);\n\t  } else {\n\t    animater.continue();\n\t  }\n\t});\n\t\n\t(0, _jquery2.default)(document).on('touchmove', function (e) {\n\t  event.preventDefault();\n\t});\n\n/***/ }),\n\n/***/ 23:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.formatParams = exports.erlize = exports.xhr4File = exports.preLoad = undefined;\n\t\n\tvar _keys = __webpack_require__(45);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _getIterator2 = __webpack_require__(44);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\tvar _promise = __webpack_require__(46);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _vue = __webpack_require__(81);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar preLoad = exports.preLoad = function preLoad(url) {\n\t  return new _promise2.default(function (resolve, reject) {\n\t    var img = new Image();\n\t\n\t    img.onload = function (_) {\n\t      resolve(img);\n\t    };\n\t    img.onerror = reject;\n\t    img.src = url;\n\t  });\n\t};\n\t\n\tvar xhr4File = exports.xhr4File = function xhr4File() {\n\t  this.xhr = new XMLHttpRequest();\n\t};\n\t\n\txhr4File.prototype = {\n\t  init: function init(cfg) {\n\t    this.cfg = cfg;\n\t  },\n\t  send: function send(file) {\n\t    this.xhr = new XMLHttpRequest();\n\t    this.xhr.open('post', this.cfg.url, true);\n\t    this.bindEvents();\n\t    this.xhr.send(file);\n\t  },\n\t  bindEvents: function bindEvents() {\n\t    this.progress();\n\t    this.load();\n\t  },\n\t  progress: function progress() {\n\t    var onProgress = this.cfg.onProgress;\n\t\n\t    if (onProgress) {\n\t      this.xhr.upload.addEventListener('progress', function (e) {\n\t        if (e.lengthComputable) {\n\t          var p = parseInt(e.loaded / e.total * 100);\n\t          if (p > 15 && p < 100) {\n\t            onProgress(p);\n\t          }\n\t        }\n\t      }, false);\n\t    }\n\t  },\n\t  load: function load() {\n\t    var xhr = this.xhr,\n\t        that = this,\n\t        onLoad = this.cfg.onLoad;\n\t\n\t    xhr.addEventListener('load', function (r) {\n\t      if (this.readyState == 4 && this.status == 200) {\n\t        try {\n\t          var json = JSON.parse(xhr.responseText);\n\t        } catch (e) {\n\t          var json = {\n\t            'code': 500,\n\t            message: '服务器异常，请重试'\n\t          };\n\t        }\n\t\n\t        if (json.code == 200) {\n\t          onLoad && onLoad(json);\n\t        } else {\n\t          that.error(json);\n\t        }\n\t      } else {\n\t        that.error({\n\t          message: '网络异常，请重试'\n\t        });\n\t      }\n\t    });\n\t  },\n\t  error: function error(msg) {\n\t    var onError = this.cfg.onError;\n\t\n\t    onError && onError(msg);\n\t  }\n\t};\n\t\n\tvar erlize = exports.erlize = function erlize(url) {\n\t  var result = {};\n\t\n\t  url = url.substr(url.indexOf(\"?\") + 1);\n\t  var args = url.split(\"&\");\n\t  for (var i = 0, len = args.length; i < len; i++) {\n\t    var arg = args[i];\n\t    var item = arg.split('=');\n\t    result[item[0]] = item[1];\n\t  }\n\t  return result;\n\t};\n\t\n\tvar formatParams = exports.formatParams = function formatParams(data) {\n\t  var arr = [];\n\t\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = (0, _getIterator3.default)((0, _keys2.default)(data)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var name = _step.value;\n\t\n\t      arr.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t\n\t  return arr.join('&');\n\t};\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t  NODE_ENV: '\"production\"',\n\t  isUglyfy: true,\n\t  showVConsole: false,\n\t  baseApi: '',\n\t  cdnURL: 'http://cdn.holyhilab.com/'\n\t};\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _jquery = __webpack_require__(8);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Animater = function Animater() {\n\t  this.canvas = (0, _jquery2.default)('#start-img')[0];\n\t  this.ctx = this.canvas.getContext('2d');\n\t  this.curFrame = 0;\n\t};\n\t\n\tAnimater.prototype = {\n\t  init: function init() {\n\t    var canvas = this.canvas;\n\t    var ctx = this.ctx;\n\t    var w = (0, _jquery2.default)('#masker').width(),\n\t        h = (0, _jquery2.default)('#masker').height();\n\t\n\t    var getRatio = this.getPixelRatio(ctx);\n\t    if (getRatio.devicePixelRatio !== getRatio.backingStoreRatio) {\n\t      canvas.width = w * getRatio.ratio;\n\t      canvas.height = h * getRatio.ratio;\n\t      canvas.style.width = w + 'px';\n\t      canvas.style.height = h + 'px';\n\t      ctx.scale(getRatio.ratio, getRatio.ratio);\n\t    } else {\n\t      canvas.width = w;\n\t      canvas.height = h;\n\t    }\n\t\n\t    this.w = w;\n\t    this.h = h;\n\t\n\t    if (this.timer) {\n\t      clearInterval(this.timer);\n\t    }\n\t\n\t    this.continue();\n\t  },\n\t  getPixelRatio: function getPixelRatio(context) {\n\t    var devicePixelRatio = window.devicePixelRatio || 1;\n\t    var backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n\t    var ratio = devicePixelRatio / backingStoreRatio;\n\t\n\t    return {\n\t      'devicePixelRatio': devicePixelRatio,\n\t      'backingStoreRatio': backingStoreRatio,\n\t      'ratio': ratio\n\t    };\n\t  },\n\t  drawPic: function drawPic() {\n\t    var p = window.result[this.curFrame];\n\t\n\t    p && this.ctx.drawImage(p, 0, 0, p.naturalWidth, p.naturalHeight, 0, 0, this.w, this.h);\n\t  },\n\t  start: function start() {\n\t    if (this.curFrame >= window.result.length) {\n\t      this.curFrame = 29;\n\t    }\n\t\n\t    this.drawPic();\n\t    this.curFrame++;\n\t  },\n\t  continue: function _continue() {\n\t    clearInterval(window.timer);\n\t    window.timer = setInterval(this.start.bind(this), 1000 / 20);\n\t  },\n\t  stop: function stop() {\n\t    clearInterval(this.timer);\n\t  }\n\t};\n\t\n\texports.default = Animater;\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(ENV_OPT) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function (cb) {\n\t  var per = 0,\n\t      totalW = parseInt((0, _jquery2.default)('.progress').width()),\n\t      has = false;\n\t\n\t  loadImages(pics, function () {\n\t    var p = result.length / l;\n\t    (0, _jquery2.default)('.child').width(p * 95 + '%');\n\t\n\t    if (p === 1 && !has) {\n\t      has = true;\n\t      window.imgcan = 1;\n\t      window.result = result;\n\t      if (window.canplay) {\n\t        cb();\n\t        (0, _base.preLoad)(ENV_OPT.cdnURL + 'phone_bg.jpg');\n\t      } else {\n\t        (0, _jquery2.default)('.js-video').get(0).load();\n\t        (0, _jquery2.default)('.js-video-2').get(0).load();\n\t      }\n\t    };\n\t  });\n\t};\n\t\n\tvar _jquery = __webpack_require__(8);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _base = __webpack_require__(23);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar pics = [],\n\t    pics2 = [];\n\twindow.imgcan = 0;\n\t\n\tfor (var i = 1; i <= 62; i++) {\n\t  var start = i >= 30 ? 2 : 1;\n\t\n\t  if (i < 10) {\n\t    i = '0' + i;\n\t  }\n\t\n\t  pics.push(start + '_000' + i + '.jpg');\n\t}\n\t\n\tvar l = pics.length,\n\t    result = [],\n\t    index = 0;\n\t\n\tfunction loadImages(pics, callback) {\n\t  if (pics.length) {\n\t    var img = new Image(),\n\t        pic = pics.shift();\n\t\n\t    (0, _base.preLoad)(ENV_OPT.cdnURL + pic).then(function (index) {\n\t\n\t      return function (pic) {\n\t        result[index] = pic;\n\t        callback();\n\t      };\n\t    }(index)).catch(function (index) {\n\t\n\t      return function (_) {\n\t        result[index] = false;\n\t        callback();\n\t      };\n\t    }(index));\n\t\n\t    index++;\n\t\n\t    loadImages(pics, callback);\n\t  } else {\n\t    return;\n\t  }\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(39)))\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _jquery = __webpack_require__(8);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tsetTimeout(function () {\n\t  _jquery2.default.get('http://api.holyhilab.com/share', {\n\t    url: window.location.href.split('#')[0]\n\t  }, function (data) {\n\t    data = data.data;\n\t\n\t    var shareConfig = {\n\t      debug: false,\n\t      appId: data.appId,\n\t      timestamp: data.timestamp,\n\t      nonceStr: data.noncestr,\n\t      signature: data.signature,\n\t      jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo']\n\t    };\n\t\n\t    var shareAllData = {\n\t      title: '震惊！你家孩子在社交媒体上竟然是这样的……',\n\t      desc: '妈妈不在家，双胞胎竟然...',\n\t      imgUrl: 'http://cdn.holyhilab.com/meta.png',\n\t      link: 'http://h5.holyhilab.com/capri-sun/'\n\t    };\n\t\n\t    wx.config(shareConfig);\n\t    wx.ready(function () {\n\t      wx.onMenuShareAppMessage(shareAllData);\n\t      wx.onMenuShareTimeline({\n\t        title: shareAllData.desc,\n\t        link: shareAllData.link,\n\t        imgUrl: shareAllData.imgUrl,\n\t        desc: shareAllData.desc\n\t      });\n\t\n\t      (0, _jquery2.default)('.js-video').get(0).load();\n\t      (0, _jquery2.default)('.js-video-2').get(0).load();\n\t      (0, _jquery2.default)('#ling')[0].load();\n\t    });\n\t  });\n\t}, 2000);\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\texports.default = function () {\n\t\n\t  (0, _jquery2.default)('.swiper-slide').removeClass('active').eq(index).addClass('active');\n\t  (0, _jquery2.default)('#slide').bind(\"touchstart\", function (e) {\n\t    cfg.start = e.originalEvent.targetTouches[0].clientY;\n\t    cfg.cur = parseInt((0, _jquery2.default)('.swiper-wrapper').css('top'));\n\t  }).bind('touchmove', function (e) {\n\t    e.preventDefault();\n\t    e.stopPropagation();\n\t  });\n\t\n\t  (0, _jquery2.default)('#slide').bind(\"touchend\", function (e) {\n\t    var end = e.originalEvent.changedTouches[0].clientY;\n\t    var offset = end - cfg.start;\n\t\n\t    if (offset > 0) {\n\t      indexAbs--;\n\t      if (indexAbs <= 0) {\n\t        indexAbs = 0;\n\t      }\n\t      up(indexAbs, true);\n\t    } else {\n\t      indexAbs++;\n\t      if (indexAbs >= 5) {\n\t        indexAbs = 5;\n\t      }\n\t      down(indexAbs, true);\n\t    }\n\t\n\t    (0, _jquery2.default)('.swiper-slide').removeClass('active').eq(indexAbs).addClass('active');\n\t  });\n\t};\n\t\n\tvar _jquery = __webpack_require__(8);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar has = 0;\n\tvar index = 0;\n\tvar changeResArr = [0, -230, -670, -1050, -1300];\n\tvar cfg = {\n\t  step: parseInt((0, _jquery2.default)('.swiper-slide').height()),\n\t  max: 70,\n\t  min: parseInt((0, _jquery2.default)('.swiper-container').height()) - parseInt((0, _jquery2.default)('.swiper-wrapper').height()) - 140\n\t};\n\tvar indexAbs = 0;\n\t\n\tfunction up(num, isEnd) {\n\t  var res = changeResArr[indexAbs];\n\t  (0, _jquery2.default)('.swiper-wrapper').css('top', res);\n\t}\n\t\n\tfunction down(num, isEnd) {\n\t  if (num > 5) {\n\t    return;\n\t  }\n\t  if (num == 5) {\n\t\n\t    num++;\n\t\n\t    (0, _jquery2.default)('.move-tip').hide();\n\t    (0, _jquery2.default)('.swiper-container').hide();\n\t    (0, _jquery2.default)('.run-people').css('bottom', '-20px');\n\t\n\t    window.timer3 = setTimeout(function () {\n\t      (0, _jquery2.default)('.before-share').show();\n\t    }, 1000);\n\t\n\t    window.timer1 = setTimeout(function () {\n\t      (0, _jquery2.default)('.share-btn-wrap').css('display', 'block').css('opacity', '1');\n\t      (0, _jquery2.default)('.before-share').remove();\n\t      window.timer2 = setTimeout(function () {\n\t        (0, _jquery2.default)('.share-btn').addClass('share-btn-enter');\n\t      }, 500);\n\t    }, 4000);\n\t\n\t    return;\n\t  }\n\t  var res = changeResArr[indexAbs];\n\t  (0, _jquery2.default)('.swiper-wrapper').css('top', res);\n\t}\n\n/***/ }),\n\n/***/ 80:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/index.d2a926f70fed5b0a68ed.js","import $ from 'jquery';\nimport 'common/scss/index.scss';\nimport { preLoad } from 'common/js/base.js';\n// 加载控制\nimport loader from './loader.js';\n// 首屏动画控制\nimport Animater from './Animater.js';\n//分享\nimport './share.js';\n//slider\nimport bindSlide from './slider.js';\n\nwindow.canplay = 0;\n\nvar animater;\n\n/**\n * 开始动画的控制\n */\ndocument.addEventListener(\"WeixinJSBridgeReady\",function(){\n  $('.js-video').get(0).load();\n  $('.js-video-2').get(0).load();\n  $('#ling')[0].load();\n  $('#slidemusic')[0].load();\n},!1);\n\nfunction startCb() {\n  window.imgcan = 0;\n  window.canplay = 0;\n  $('.child').width('100%');\n\n  setTimeout(function () {\n    $('#loading').fadeOut();\n    $('#masker').fadeIn();\n\n    animater = new Animater();\n    animater.init();\n  }, 1000)\n\n}\n\nloader(startCb)\n\n//视频可以进行播放的时候\n$('.js-video').get(0).addEventListener('canplaythrough',function(){\n  window.canplay = 1;\n\n  if(window.imgcan) {\n    startCb();\n  }\n})\n\n//控制铃声时间\n$('.js-video').on('playing', function(e) {\n  event.preventDefault();\n\n  setTimeout(function () {\n    $('#ling')[0].play();\n  }, 65 * 1000);\n});\n\n//第一段视频播完，展示语音页面\n$('.js-video').on('ended',function(){\n  showBtn();\n  setTimeout(function () {\n    $('.js-video-wrapper').remove();\n    bindSlide();\n  }, 1000);\n})  \n\n\n//点击接听\n$('.right').click(function () {\n  $('.clouds-wrap').show();\n  $('.js-video-wrapper-2').show();\n  $('#phone').remove();\n  $('#ling').remove()\n  $('.js-video-2')[0].play();\n});\n\n//第二段视频结束，播放h5  (slide)\n$('.js-video-2').on('ended',function(){\n  $('#slide').show();\n  $('#slidemusic')[0].play();\n  setTimeout(function () {\n    $('#slidemusic')[0].play();\n  }, 0)\n  $('.move-tip').show();\n  \n  setTimeout(function () {\n    $('.js-video-wrapper-2').remove();\n  }, 1000);\n})\n\n//left-finger点击，出分享\n$('.share-btn').on('touchstart', function() {\n  $('.share-btn').addClass('share-btn-click');\n}).on('touchend', function() {\n  $('.share').css('opacity', '1');\n  $('.share-btn').removeClass('share-btn-click');\n});\n\n\n\nfunction showBtn() {\n  $('#phone').css('opacity', 1);\n  $('.clouds-wrap').hide();\n}\n\nvar has = 0;\n\nvar cfg = {\n  max: $('#masker').height() - window.innerHeight\n}\n\n//拖动开始播放视频\n$('#masker').on('touchstart', function(e) {\n  event.preventDefault();\n  animater.stop();\n  cfg.start = e.originalEvent.targetTouches[0].clientY;\n  cfg.cur = parseInt($(this).css('top') )|| 0\n}).on('touchmove', function(e) {\n  event.preventDefault();\n\n  var changed = e.originalEvent.targetTouches[0].clientY - cfg.start;\n  var result = cfg.cur + changed;\n  var max = -cfg.max + 10;\n\n  result > 0 ? result = 0 : '';\n  result < max ? result = max : '';\n\n  cfg.changed = changed;\n  $(this).css('top', result);\n}).on('touchend',function(){\n  if(has) {\n    return;\n  }\n\n  if (cfg.changed < -10) {\n    has = 1;\n\n    $('#masker').css('top', -215 + 'px');\n\n    $('.js-video').get(0).play();\n      $('.js-video-wrapper').show();\n      $('#masker').remove();\n\n    setTimeout(function () {\n    }, 500);\n  } else {\n    animater.continue();\n  }\n})\n\n$(document).on('touchmove', function(e) {\n  event.preventDefault();\n});\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\n\n\n/**\n * 图片预加载方法\n */\nexport const preLoad = (url) => {\n  return new Promise((resolve, reject) => {\n    var img = new Image();\n\n    img.onload = _ => {\n      resolve(img);\n    };\n    img.onerror = reject;\n    img.src = url;\n  })\n}\n\n/**\n * 异步上传文件\n * @type {Object}\n */\nexport const xhr4File = function() {\n  this.xhr = new XMLHttpRequest();\n}\n\nxhr4File.prototype = {\n  init(cfg) {\n    this.cfg = cfg;\n  },\n\n  send(file) {\n    this.xhr = new XMLHttpRequest();\n    this.xhr.open('post', this.cfg.url, true);\n    this.bindEvents();\n    this.xhr.send(file);\n  },\n\n  bindEvents() {\n    this.progress();\n    this.load();\n  },\n\n  progress() {\n    var onProgress = this.cfg.onProgress;\n\n    if (onProgress) {\n      this.xhr.upload.addEventListener('progress', function(e) {\n        if (e.lengthComputable) {\n          var p = parseInt(e.loaded / e.total * 100);\n          if (p > 15 && p < 100) {\n            onProgress(p);\n          }\n        }\n      }, false);\n    }\n  },\n\n  load() {\n    var xhr = this.xhr,\n      that = this,\n      onLoad = this.cfg.onLoad;\n\n    xhr.addEventListener('load', function(r) {\n      if (this.readyState == 4 && this.status == 200) {\n        try {\n          var json = JSON.parse(xhr.responseText);\n        } catch (e) {\n          var json = {\n            'code': 500,\n            message: '服务器异常，请重试'\n          };\n        }\n\n        if (json.code == 200) {\n          onLoad && onLoad(json);\n        } else {\n          that.error(json);\n        }\n      } else {\n        that.error({\n          message: '网络异常，请重试'\n        });\n      }\n    })\n  },\n\n  error(msg) {\n    var onError = this.cfg.onError;\n\n    onError && onError(msg);\n  }\n}\n\nexport const erlize = function(url) {\n  var result = {};\n\n  url = url.substr(url.indexOf(\"?\") + 1);\n  var args = url.split(\"&\");\n  for (var i = 0, len = args.length; i < len; i++) {\n    var arg = args[i];\n    var item = arg.split('=');\n    result[item[0]] = item[1];\n  }\n  return result;\n};\n\nexport const formatParams = (data) => {\n  const arr = [];\n\n  for (let name of Object.keys(data)) {\n    arr.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));\n  }\n\n  return arr.join('&');\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/base.js","module.exports = {\n  NODE_ENV: '\"production\"',\n  isUglyfy: true, //是否压缩\n  showVConsole: false, //是否显示v-console\n  baseApi: '',\n  cdnURL: 'http://cdn.holyhilab.com/'\n}\n\n\n// WEBPACK FOOTER //\n// ./config/prod.env.js","import $ from 'jquery';\n\nconst Animater = function () {\n  this.canvas = $('#start-img')[0]; \n  this.ctx = this.canvas.getContext('2d');\n  this.curFrame = 0;\n}\n\nAnimater.prototype = {\n  init() {\n    var canvas = this.canvas;\n    var ctx = this.ctx;\n    var w = $('#masker').width(),\n        h = $('#masker').height();\n\n    var getRatio = this.getPixelRatio(ctx);\n    if (getRatio.devicePixelRatio !== getRatio.backingStoreRatio) {\n      canvas.width = w * getRatio.ratio;\n      canvas.height = h * getRatio.ratio;\n      canvas.style.width = w + 'px';\n      canvas.style.height = h + 'px';\n      ctx.scale(getRatio.ratio, getRatio.ratio);\n    } else {\n      canvas.width = w;\n      canvas.height = h;\n    }\n\n    this.w = w;\n    this.h = h;\n\n    if(this.timer) {\n      clearInterval(this.timer);\n    }\n\n    this.continue();\n  },\n\n  getPixelRatio(context) {\n    var devicePixelRatio = window.devicePixelRatio || 1;\n    var backingStoreRatio = context.webkitBackingStorePixelRatio ||\n        context.mozBackingStorePixelRatio ||\n        context.msBackingStorePixelRatio ||\n        context.oBackingStorePixelRatio ||\n        context.backingStorePixelRatio || 1;\n    var ratio = devicePixelRatio / backingStoreRatio;\n\n    return {\n      'devicePixelRatio': devicePixelRatio,\n      'backingStoreRatio' : backingStoreRatio, \n      'ratio' : ratio\n    }\n  },\n\n  drawPic() {\n    var p = window.result[this.curFrame];\n\n    p && this.ctx.drawImage(\n      p,\n      0,\n      0,\n      p.naturalWidth,\n      p.naturalHeight,\n      0,\n      0,\n      this.w,\n      this.h\n    )\n  },\n\n  start() {\n    if(this.curFrame >= window.result.length) {\n      this.curFrame = 29;\n    }\n    \n    this.drawPic();\n    this.curFrame++;\n  },\n\n  continue() {\n    clearInterval(window.timer);\n    window.timer = setInterval(this.start.bind(this), 1000 / 20);\n  },\n\n  stop() {\n    clearInterval(this.timer);\n  }\n};\n\nexport default Animater;\n\n\n// WEBPACK FOOTER //\n// ./src/Animater.js","import $ from 'jquery';\nimport { preLoad } from 'common/js/base.js';\n/**\n * 加载完全部才执行\n */\nvar pics = [],\n  pics2 = [\n    \n  ]\nwindow.imgcan = 0;\n\nfor(var i = 1; i <= 62; i++) {\n  var start = i >= 30 ? 2 : 1;\n\n  if(i < 10) {\n    i = '0' + i;\n  }\n\n  pics.push(`${start}_000${i}.jpg`);\n}\n\nvar l = pics.length,\n  result = [],\n  index = 0;\n\nfunction loadImages(pics, callback) {\n  if (pics.length) {\n    var img = new Image(),\n      pic = pics.shift();\n\n\n    preLoad(ENV_OPT.cdnURL + pic).then((index => {\n\n      return pic => {\n        result[index] = pic;\n        callback();\n      }\n    })(index)).catch((index => {\n\n      return _ => {\n        result[index] = false;\n        callback();\n      }\n    })(index))\n\n    index++;\n\n    loadImages(pics, callback);\n  } else {\n    return;\n  }\n}\n\nexport default function (cb) {\n  var per = 0,\n    totalW = parseInt($('.progress').width()),\n    has = false;\n\n  loadImages(pics, function() {\n    var p = result.length / l;\n    $('.child').width(p * 95 + '%');\n\n    if (p === 1 && !has) {\n      has = true;\n      window.imgcan = 1;\n      window.result = result;\n      if(window.canplay) {\n        cb();\n        preLoad(ENV_OPT.cdnURL + 'phone_bg.jpg');\n      } else {\n        $('.js-video').get(0).load();\n        $('.js-video-2').get(0).load();\n      }\n    };\n  })  \n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/loader.js","import $ from 'jquery';\n\nsetTimeout(function () {\n  $.get('http://api.holyhilab.com/share', {\n    url: window.location.href.split('#')[0]\n  }, function(data) {\n    data = data.data;\n    \n    var shareConfig = {\n      debug: false,\n      appId: data.appId,//php输出参数\n      timestamp: data.timestamp,//php输出参数\n      nonceStr: data.noncestr,//php输出参数\n      signature: data.signature,//php输出参数\n      jsApiList: [\n        'onMenuShareTimeline',\n        'onMenuShareAppMessage',\n        'onMenuShareQQ',\n        'onMenuShareWeibo'\n      ]\n    }\n\n    var shareAllData = {\n      title:'震惊！你家孩子在社交媒体上竟然是这样的……',\n      desc:'妈妈不在家，双胞胎竟然...',\n      imgUrl:'http://cdn.holyhilab.com/meta.png',\n      link:'http://h5.holyhilab.com/capri-sun/'\n    }\n\n    wx.config(shareConfig);\n    wx.ready(function () {\n      wx.onMenuShareAppMessage(shareAllData);\n      wx.onMenuShareTimeline({\n        title: shareAllData.desc,\n        link: shareAllData.link,\n        imgUrl: shareAllData.imgUrl,\n        desc: shareAllData.desc\n      });\n\n      $('.js-video').get(0).load();\n      $('.js-video-2').get(0).load();\n      $('#ling')[0].load();\n    });\n  }); \n}, 2000);\n\n\n\n// WEBPACK FOOTER //\n// ./src/share.js","import $ from 'jquery';\n\n\nvar has = 0;\nvar index = 0;\nvar changeResArr = [0,-230,-670,-1050,-1300];\nvar cfg = {\n  step: parseInt($('.swiper-slide').height()),\n  max: 70,\n  min: parseInt($('.swiper-container').height()) - parseInt($('.swiper-wrapper').height()) - 140\n};\nvar indexAbs = 0;\n\nexport default function () {\n  \n\n  $('.swiper-slide').removeClass('active').eq(index).addClass('active')\n  $('#slide').bind(\"touchstart\",function(e){\n    //记录初始位置\n    cfg.start = e.originalEvent.targetTouches[0].clientY;\n    cfg.cur = parseInt($('.swiper-wrapper').css('top'));\n  }).bind('touchmove', function (e) {\n     e.preventDefault()\n     e.stopPropagation(); \n  });\n\n   $('#slide').bind(\"touchend\", function(e) {\n    var end = e.originalEvent.changedTouches[0].clientY;\n    let offset = end - cfg.start;    //移动的距离\n\n    if(offset>0){ //向下\n      indexAbs--;\n      if(indexAbs <= 0) {\n        indexAbs = 0;\n      }\n      up(indexAbs, true);\n    } else {//向上\n      indexAbs++;\n      if(indexAbs >= 5) {\n        indexAbs = 5;\n      }\n      down(indexAbs, true);\n    }\n\n    $('.swiper-slide').removeClass('active').eq(indexAbs).addClass('active')\n  })\n}\n\nfunction up(num, isEnd) {\n  var res = changeResArr[indexAbs];\n  $('.swiper-wrapper').css('top', res);\n}\n\nfunction down(num, isEnd) {\n  if(num > 5) {\n    return;\n  }\n  if(num == 5) {\n\n    num++;\n\n    $('.move-tip').hide();\n    $('.swiper-container').hide();\n    $('.run-people').css('bottom', '-20px');\n\n    window.timer3 = setTimeout(function() {\n      $('.before-share').show();\n    }, 1000);\n    \n    window.timer1 = setTimeout(function() {\n      $('.share-btn-wrap').css('display', 'block').css('opacity', '1');\n      $('.before-share').remove();\n      window.timer2 = setTimeout(function() {\n        $('.share-btn').addClass('share-btn-enter');\n      }, 500);\n    }, 4000);\n\n    return;\n  }\n  var res = changeResArr[indexAbs];\n  $('.swiper-wrapper').css('top', res);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/slider.js"],"sourceRoot":""}