webpackJsonp([2,0],{0:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(){window.imgcan=0,window.canplay=0,(0,s.default)(".child").width("100%"),setTimeout(function(){(0,s.default)("#loading").fadeOut(),(0,s.default)("#masker").fadeIn(),p=new c.default,p.init()},1e3)}function o(){(0,s.default)("#phone").css("opacity",1),(0,s.default)(".clouds-wrap").hide()}var r=n(8),s=i(r);n(80);var u=(n(23),n(41)),d=i(u),l=n(40),c=i(l);n(42);var f=n(43),h=i(f);window.canplay=0;var p;document.addEventListener("WeixinJSBridgeReady",function(){(0,s.default)(".js-video").get(0).load(),(0,s.default)(".js-video-2").get(0).load(),(0,s.default)("#ling")[0].load(),(0,s.default)("#slidemusic")[0].load()},!1),(0,d.default)(a),(0,s.default)(".js-video").get(0).addEventListener("canplaythrough",function(){window.canplay=1,window.imgcan&&a()}),(0,s.default)(".js-video").on("playing",function(e){event.preventDefault(),setTimeout(function(){(0,s.default)("#ling")[0].play()},65e3)}),(0,s.default)(".js-video").on("ended",function(){o(),setTimeout(function(){(0,s.default)(".js-video-wrapper").remove(),(0,h.default)()},1e3)}),(0,s.default)(".right").click(function(){(0,s.default)(".clouds-wrap").show(),(0,s.default)(".js-video-wrapper-2").show(),(0,s.default)("#phone").remove(),(0,s.default)("#ling").remove(),(0,s.default)(".js-video-2")[0].play()}),(0,s.default)(".js-video-2").on("ended",function(){(0,s.default)("#slide").show(),(0,s.default)("#slidemusic")[0].play(),setTimeout(function(){(0,s.default)("#slidemusic")[0].play()},0),(0,s.default)(".move-tip").show(),setTimeout(function(){(0,s.default)(".js-video-wrapper-2").remove()},1e3)}),(0,s.default)(".share-btn").on("touchstart",function(){(0,s.default)(".share-btn").addClass("share-btn-click")}).on("touchend",function(){(0,s.default)(".share").css("opacity","1"),(0,s.default)(".share-btn").removeClass("share-btn-click")});var v=0,w={max:(0,s.default)("#masker").height()-window.innerHeight};(0,s.default)("#masker").on("touchstart",function(e){event.preventDefault(),p.stop(),w.start=e.originalEvent.targetTouches[0].clientY,w.cur=parseInt((0,s.default)(this).css("top"))||0}).on("touchmove",function(e){event.preventDefault();var t=e.originalEvent.targetTouches[0].clientY-w.start,n=w.cur+t,i=-w.max+10;n>0?n=0:"",n<i?n=i:"",w.changed=t,(0,s.default)(this).css("top",n)}).on("touchend",function(){v||(w.changed<-10?(v=1,(0,s.default)("#masker").css("top","-215px"),(0,s.default)(".js-video").get(0).play(),(0,s.default)(".js-video-wrapper").show(),(0,s.default)("#masker").remove(),setTimeout(function(){},500)):p.continue())}),(0,s.default)(document).on("touchmove",function(e){event.preventDefault()})},23:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatParams=t.erlize=t.xhr4File=t.preLoad=void 0;var a=n(45),o=i(a),r=n(44),s=i(r),u=n(46),d=i(u),l=n(81),c=(i(l),t.preLoad=function(e){return new d.default(function(t,n){var i=new Image;i.onload=function(e){t(i)},i.onerror=n,i.src=e})},t.xhr4File=function(){this.xhr=new XMLHttpRequest});c.prototype={init:function(e){this.cfg=e},send:function(e){this.xhr=new XMLHttpRequest,this.xhr.open("post",this.cfg.url,!0),this.bindEvents(),this.xhr.send(e)},bindEvents:function(){this.progress(),this.load()},progress:function(){var e=this.cfg.onProgress;e&&this.xhr.upload.addEventListener("progress",function(t){if(t.lengthComputable){var n=parseInt(t.loaded/t.total*100);n>15&&n<100&&e(n)}},!1)},load:function(){var e=this.xhr,t=this,n=this.cfg.onLoad;e.addEventListener("load",function(i){if(4==this.readyState&&200==this.status){try{var a=JSON.parse(e.responseText)}catch(e){var a={code:500,message:"服务器异常，请重试"}}200==a.code?n&&n(a):t.error(a)}else t.error({message:"网络异常，请重试"})})},error:function(e){var t=this.cfg.onError;t&&t(e)}};t.erlize=function(e){var t={};e=e.substr(e.indexOf("?")+1);for(var n=e.split("&"),i=0,a=n.length;i<a;i++){var o=n[i],r=o.split("=");t[r[0]]=r[1]}return t},t.formatParams=function(e){var t=[],n=!0,i=!1,a=void 0;try{for(var r,u=(0,s.default)((0,o.default)(e));!(n=(r=u.next()).done);n=!0){var d=r.value;t.push(encodeURIComponent(d)+"="+encodeURIComponent(e[d]))}}catch(e){i=!0,a=e}finally{try{!n&&u.return&&u.return()}finally{if(i)throw a}}return t.join("&")}},39:function(e,t){"use strict";e.exports={NODE_ENV:'"production"',isUglyfy:!0,showVConsole:!1,baseApi:"",cdnURL:"http://cdn.holyhilab.com/"}},40:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),o=i(a),r=function(){this.canvas=(0,o.default)("#start-img")[0],this.ctx=this.canvas.getContext("2d"),this.curFrame=0};r.prototype={init:function(){var e=this.canvas,t=this.ctx,n=(0,o.default)("#masker").width(),i=(0,o.default)("#masker").height(),a=this.getPixelRatio(t);a.devicePixelRatio!==a.backingStoreRatio?(e.width=n*a.ratio,e.height=i*a.ratio,e.style.width=n+"px",e.style.height=i+"px",t.scale(a.ratio,a.ratio)):(e.width=n,e.height=i),this.w=n,this.h=i,this.timer&&clearInterval(this.timer),this.continue()},getPixelRatio:function(e){var t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,i=t/n;return{devicePixelRatio:t,backingStoreRatio:n,ratio:i}},drawPic:function(){var e=window.result[this.curFrame];e&&this.ctx.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,0,0,this.w,this.h)},start:function(){this.curFrame>=window.result.length&&(this.curFrame=29),this.drawPic(),this.curFrame++},continue:function(){clearInterval(window.timer),window.timer=setInterval(this.start.bind(this),50)},stop:function(){clearInterval(this.timer)}},t.default=r},41:function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(t,n){if(t.length){var i=(new Image,t.shift());(0,s.preLoad)(e.cdnURL+i).then(function(e){return function(t){f[e]=t,n()}}(h)).catch(function(e){return function(t){f[e]=!1,n()}}(h)),h++,a(t,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){var n=(parseInt((0,r.default)(".progress").width()),!1);a(u,function(){var i=f.length/c;(0,r.default)(".child").width(95*i+"%"),1!==i||n||(n=!0,window.imgcan=1,window.result=f,window.canplay?(t(),(0,s.preLoad)(e.cdnURL+"phone_bg.jpg")):((0,r.default)(".js-video").get(0).load(),(0,r.default)(".js-video-2").get(0).load()))})};var o=n(8),r=i(o),s=n(23),u=[];window.imgcan=0;for(var d=1;d<=62;d++){var l=d>=30?2:1;d<10&&(d="0"+d),u.push(l+"_000"+d+".jpg")}var c=u.length,f=[],h=0}).call(t,n(39))},42:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(8),o=i(a);setTimeout(function(){o.default.get("http://api.holyhilab.com/share",{url:window.location.href.split("#")[0]},function(e){e=e.data;var t={debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]},n={title:"震惊！你家孩子在社交媒体上竟然是这样的……",desc:"妈妈不在家，双胞胎竟然...",imgUrl:"http://cdn.holyhilab.com/meta.png",link:"http://h5.holyhilab.com/capri-sun/"};wx.config(t),wx.ready(function(){wx.onMenuShareAppMessage(n),wx.onMenuShareTimeline({title:n.desc,link:n.link,imgUrl:n.imgUrl,desc:n.desc}),(0,o.default)(".js-video").get(0).load(),(0,o.default)(".js-video-2").get(0).load(),(0,o.default)("#ling")[0].load()})})},2e3)},43:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=d[c];(0,s.default)(".swiper-wrapper").css("top",n)}function o(e,t){if(!(e>5)){if(5==e)return e++,(0,s.default)(".move-tip").hide(),(0,s.default)(".swiper-container").hide(),(0,s.default)(".run-people").css("bottom","-20px"),window.timer3=setTimeout(function(){(0,s.default)(".before-share").show()},1e3),void(window.timer1=setTimeout(function(){(0,s.default)(".share-btn-wrap").css("display","block").css("opacity","1"),(0,s.default)(".before-share").hide(),window.timer2=setTimeout(function(){(0,s.default)(".share-btn").addClass("share-btn-enter")},500)},4e3));var n=d[c];(0,s.default)(".swiper-wrapper").css("top",n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,s.default)(".swiper-slide").removeClass("active").eq(u).addClass("active"),(0,s.default)("#slide").bind("touchstart",function(e){l.start=e.originalEvent.targetTouches[0].clientY,l.cur=parseInt((0,s.default)(".swiper-wrapper").css("top"))}).bind("touchmove",function(e){e.preventDefault(),e.stopPropagation()}),(0,s.default)("#slide").bind("touchend",function(e){var t=e.originalEvent.changedTouches[0].clientY,n=t-l.start;n>0?(c--,c<=0&&(c=0),a(c,!0)):(c++,c>=5&&(c=5),o(c,!0)),(0,s.default)(".swiper-slide").removeClass("active").eq(c).addClass("active")})};var r=n(8),s=i(r),u=0,d=[0,-230,-670,-1050,-1300],l={step:parseInt((0,s.default)(".swiper-slide").height()),max:70,min:parseInt((0,s.default)(".swiper-container").height())-parseInt((0,s.default)(".swiper-wrapper").height())-140},c=0},80:function(e,t){}});
//# sourceMappingURL=index.05dee18f62a3c528099c.js.map